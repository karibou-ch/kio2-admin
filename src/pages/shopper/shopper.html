<!--
  Generated template for the LivraisonPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header no-border>
  <logistic-header
    (ordersToPage)="displayOrders($event)">
    </logistic-header>
</ion-header>

<ion-content>

  <!--Actual list-->

  <h1 [hidden]="orders?.length > 0">Pas de commandes {{openShippings?'ouvertes':'fermées'}} pour ce mois-ci</h1>

  <ion-list>
    
    <ion-item-sliding *ngFor="let order of orders?.sort(sortOrdersByCP)  ">

      <ion-item>
        <ion-note item-end>
          {{order.shipping.postalCode}}
          <!--<ion-label>Cabas:~</ion-label>
          <ion-select [(ngModel)]="nbCabas">
            <ion-option value="1">1</ion-option>
            <ion-option value="2">2</ion-option>
            <ion-option value="3">3</ion-option>
            <ion-option value="4">4</ion-option>
          </ion-select>-->
          
        </ion-note>        
        <ion-avatar item-start>
          <!--<off-ion-icon name="radio-button-on" style="zoom:2.0;" color="primary"></off-ion-icon> -->
          <span class="rank">{{ order.rank }}</span>
          <span class="bag" [hidden]="!order.shipping.bags">{{ order.shipping.bags }}</span>
        </ion-avatar>
        <h3 text-capitalize>{{ order.shipping.name }}</h3>
        <h2>{{ order.shipping.streetAdress }}, étage: {{order.shipping.floor}} </h2>
        <p>{{ order.shipping.note }}</p>
      </ion-item>
      <ion-item-options side="left">
        <button  ion-button color="secondary">
          <ion-icon name="bicycle"></ion-icon>
          Réserver
        </button>
      </ion-item-options>

      <ion-item-options side="right">
        <button (click)="openTracker4One([order])" ion-button color="light">
          <ion-icon name="pin"></ion-icon>
          Carte
        </button>
        <a ion-button color="secondary" href='tel:{{order.customer.phoneNumbers[0]}}'>
          <ion-icon name="call"></ion-icon>
          Appeler
        </a>
      </ion-item-options>

    </ion-item-sliding>

  </ion-list>

</ion-content>