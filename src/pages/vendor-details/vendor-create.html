
<ion-header>
  <ion-navbar color="primary">
    <ion-title>Créer votre boutique en ligne</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>

  <!-- DESCRIPTION -->
  <ion-list >
    <ion-item>
      <ion-label color="primary" stacked>Nom de la boutique </ion-label> 
      <ion-input  type="text"  placeholder="Nom" [(ngModel)]="shop.name" required></ion-input>
    </ion-item>
    
    <ion-item>
      <ion-label color="primary" stacked>Description </ion-label> 
      <ion-textarea  rows="6"  placeholder="votre histoire... " [(ngModel)]="shop.description" required></ion-textarea>
    </ion-item>
    <ion-item >
      <ion-label stacked>Ou vous trouver sur Internet</ion-label>
      <ion-input type="url" placeholder="https:// ..." [(ngModel)]="shop.url"></ion-input>              
    </ion-item>    
    <ion-item color="none">
      <ion-thumbnail item-left class="image">
        <img [hidden]="!shop?.photo.fg" [src]="'https:'+shop.photo.fg+'/-/resize/128x/'"/>
        <img [hidden]="shop?.photo.fg" src="/assets/img/add.png"/>
      </ion-thumbnail>
    </ion-item>
    <ion-item>
      <button ion-button outline color="primary" block (click)="uploadImageFG()">Photo d'équipe (large taille)</button>
    </ion-item>
    <ion-item color="none">
      <ion-thumbnail item-left class="image">
        <img [hidden]="!shop?.photo.owner" [src]="'https:'+shop.photo.owner+'/-/resize/128x/'"/>
        <img [hidden]="shop?.photo.owner" src="/assets/img/add.png"/>
      </ion-thumbnail>
    </ion-item>
    <ion-item>
      <button ion-button outline color="primary" block (click)="uploadImageOwner()">Avatar (petite taille)</button>
    </ion-item>
  </ion-list>  
  
  <!-- FAQ -->
  <ion-list >
    <ion-item >
      <ion-label color="primary" >
        FAQ
      </ion-label>
      <button ion-button outline item-end (click)="shop.faq.push({})">Ajouter</button>
    </ion-item>
    <div *ngFor="let faq of shop.faq;let idx=index">
      <ion-item>
        <ion-label stacked class="bold">Question </ion-label> 
        <ion-textarea  rows="2"  placeholder="Question fréquente... " [(ngModel)]="faq.q" required></ion-textarea>
      </ion-item>
      <ion-item >
        <ion-label stacked class="bold">Votre réponse </ion-label>
        <ion-textarea  rows="8"  placeholder="Votre réponse... " [(ngModel)]="faq.a" required></ion-textarea>
      </ion-item>      
      <ion-item >
        <ion-label color="primary" [hidden]="!faq.q">
          {{faq.q}}
        </ion-label>
        <button ion-button outline item-end (click)="shop.faq.splice(idx, 1)">Supprimer</button>
      </ion-item>
    
    </div>
    
  </ion-list>      
    
    <!-- Admin BM -->
    <!-- Livraisons disponibles -->
    <!-- Adresse de collecte -->
  


  <!-- SHIPPING DAYS -->
  <ion-list hidden>    
    <ion-list-header color="primary">
      Livraison
    </ion-list-header>    
    <ion-item>
      <ion-label>Lundi </ion-label>
      <ion-checkbox [(ngModel)]="weekdays[1]"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Mardi </ion-label>
      <ion-checkbox [(ngModel)]="weekdays[2]"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Mercredi </ion-label>
      <ion-checkbox [(ngModel)]="weekdays[3]"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Jeudi </ion-label>
      <ion-checkbox [(ngModel)]="weekdays[4]"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Vendredi </ion-label>
      <ion-checkbox [(ngModel)]="weekdays[5]"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Samedi </ion-label>
      <ion-checkbox [(ngModel)]="weekdays[6]"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Dimanche</ion-label>
      <ion-checkbox [(ngModel)]="weekdays[0]"></ion-checkbox>
    </ion-item>
  </ion-list>

  <!-- CATALOG -->
  <ion-item>
    <ion-label>
      Catlogue
    </ion-label>
    <ion-select [(ngModel)]="catalog">
      <ion-option *ngFor="let cat of getCatalog()"  [value]="cat._id">{{cat.name}}</ion-option>        
    </ion-select>
  </ion-item>


  <ion-list>
    <ion-item>
        <button ion-button block outline large color="primary" (click)="doSave()">Demander la création de la boutique</button>
      </ion-item>      
  </ion-list>
    
</ion-content>